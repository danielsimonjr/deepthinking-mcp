{
  "phase": 14,
  "sprint": 2,
  "title": "Medium-Risk Validators",
  "effort": "5-6 hours",
  "status": "not-started",
  "coverageTarget": ">90%",
  "description": "Add comprehensive test coverage for the 4 MEDIUM-risk validators with moderate complexity (355 lines total). Target >90% branch coverage through method-level and error-path testing.",
  "tasks": [
    {
      "id": "14.2.1",
      "category": "Constraint Validator Tests",
      "description": "Add tests for constraint.ts (68 lines, ~8 error paths)",
      "status": "not-started",
      "estimatedHours": 1.0,
      "priority": "medium",
      "risk": "MEDIUM",
      "privateMethods": [
        "validateVariables()",
        "validateDomains()",
        "validateConstraints()"
      ],
      "details": [
        "Create tests/unit/validation/validators/modes/constraint.test.ts",
        "describe('validate') - test main entry point",
        "describe('validateVariables') - 4+ tests:",
        "  - Missing variable name triggers error",
        "  - Duplicate variable names trigger error",
        "  - Valid variable list passes",
        "describe('validateDomains') - 6+ tests:",
        "  - Finite domain with valid values passes",
        "  - Integer domain with valid bounds passes",
        "  - Interval domain with valid [min, max] passes",
        "  - Empty domain triggers error",
        "  - Invalid domain type triggers error",
        "  - Conflicting bounds (min > max) triggers error",
        "describe('validateConstraints') - 6+ tests:",
        "  - Valid unary constraint passes",
        "  - Valid binary constraint passes",
        "  - Constraint referencing unknown variable triggers error",
        "  - Empty constraints array triggers warning",
        "  - Constraint with invalid arity triggers error"
      ],
      "errorPaths": 8,
      "warningPaths": 1,
      "files": [
        "tests/unit/validation/validators/modes/constraint.test.ts"
      ],
      "sourceFile": "src/validation/validators/modes/constraint.ts",
      "estimatedTests": 22,
      "notes": "Smallest validator in sprint. Focus on domain type validation and constraint arity."
    },
    {
      "id": "14.2.2",
      "category": "Deductive Validator Tests",
      "description": "Add tests for deductive.ts (104 lines, ~12 error paths)",
      "status": "not-started",
      "estimatedHours": 1.5,
      "priority": "medium",
      "risk": "MEDIUM",
      "privateMethods": [
        "validatePremises()",
        "validateConclusion()",
        "validateLogicalForm()",
        "validateValidity()"
      ],
      "details": [
        "Create tests/unit/validation/validators/modes/deductive.test.ts",
        "describe('validate') - test main entry point",
        "describe('validatePremises') - 5+ tests:",
        "  - Valid premises array passes",
        "  - Empty premises array triggers error",
        "  - Premise without statement triggers error",
        "  - Premise with valid truth value passes",
        "describe('validateConclusion') - 4+ tests:",
        "  - Valid conclusion passes",
        "  - Missing conclusion triggers error",
        "  - Empty conclusion statement triggers error",
        "describe('validateLogicalForm') - 8+ tests:",
        "  - Valid 'modus_ponens' passes",
        "  - Valid 'modus_tollens' passes",
        "  - Valid 'hypothetical_syllogism' passes",
        "  - Valid 'disjunctive_syllogism' passes",
        "  - Valid 'constructive_dilemma' passes",
        "  - Invalid logical form triggers error",
        "  - Logical form with wrong premise count triggers warning",
        "describe('validateValidity') - 4+ tests:",
        "  - Valid argument marked valid passes",
        "  - Invalid argument marked invalid passes",
        "  - Mismatch between validity and soundness triggers warning"
      ],
      "errorPaths": 12,
      "warningPaths": 2,
      "files": [
        "tests/unit/validation/validators/modes/deductive.test.ts"
      ],
      "sourceFile": "src/validation/validators/modes/deductive.ts",
      "estimatedTests": 28,
      "notes": "Test all standard logical forms. Pay attention to premise count requirements for each form."
    },
    {
      "id": "14.2.3",
      "category": "Inductive Validator Tests",
      "description": "Add tests for inductive.ts (90 lines, ~10 error paths)",
      "status": "not-started",
      "estimatedHours": 1.25,
      "priority": "medium",
      "risk": "MEDIUM",
      "privateMethods": [
        "validateObservations()",
        "validateGeneralization()",
        "validateStrength()",
        "validateCounterexamples()"
      ],
      "details": [
        "Create tests/unit/validation/validators/modes/inductive.test.ts",
        "describe('validate') - test main entry point",
        "describe('validateObservations') - 5+ tests:",
        "  - Valid observations array passes",
        "  - Empty observations array triggers error",
        "  - Observation without content triggers error",
        "  - Observation with count <= 0 triggers error",
        "describe('validateGeneralization') - 5+ tests:",
        "  - Valid generalization with scope passes",
        "  - Missing generalization statement triggers error",
        "  - Generalization scope 'universal' with few observations triggers warning",
        "describe('validateStrength') - 5+ tests:",
        "  - Confidence = 0 passes",
        "  - Confidence = 1 passes",
        "  - Confidence < 0 triggers error",
        "  - Confidence > 1 triggers error",
        "  - High confidence with few observations triggers warning",
        "describe('validateCounterexamples') - 4+ tests:",
        "  - Valid counterexamples array passes",
        "  - Counterexample without description triggers error",
        "  - Many counterexamples with high confidence triggers warning"
      ],
      "errorPaths": 10,
      "warningPaths": 3,
      "files": [
        "tests/unit/validation/validators/modes/inductive.test.ts"
      ],
      "sourceFile": "src/validation/validators/modes/inductive.ts",
      "estimatedTests": 25,
      "notes": "Focus on observation-to-generalization patterns. Test confidence bounds and scope validation."
    },
    {
      "id": "14.2.4",
      "category": "Recursive Validator Tests",
      "description": "Add tests for recursive.ts (93 lines, ~10 error paths)",
      "status": "not-started",
      "estimatedHours": 1.25,
      "priority": "medium",
      "risk": "MEDIUM",
      "privateMethods": [
        "validateBaseCase()",
        "validateRecursiveStep()",
        "validateDepth()",
        "validateTermination()"
      ],
      "details": [
        "Create tests/unit/validation/validators/modes/recursive.test.ts",
        "describe('validate') - test main entry point",
        "describe('validateBaseCase') - 5+ tests:",
        "  - Valid base case passes",
        "  - Missing base case triggers error",
        "  - Empty base condition triggers error",
        "  - Base case without result triggers error",
        "describe('validateRecursiveStep') - 5+ tests:",
        "  - Valid recursive step passes",
        "  - Missing recursive step triggers error",
        "  - Step without reduction triggers warning",
        "  - Step referencing undefined parameter triggers error",
        "describe('validateDepth') - 5+ tests:",
        "  - currentDepth = 0 passes",
        "  - currentDepth = maxDepth passes",
        "  - currentDepth > maxDepth triggers error",
        "  - Negative depth triggers error",
        "  - maxDepth = 0 triggers warning (no recursion possible)",
        "describe('validateTermination') - 4+ tests:",
        "  - Proof of termination passes",
        "  - No termination proof triggers warning",
        "  - Infinite recursion indicator triggers error"
      ],
      "errorPaths": 10,
      "warningPaths": 3,
      "files": [
        "tests/unit/validation/validators/modes/recursive.test.ts"
      ],
      "sourceFile": "src/validation/validators/modes/recursive.ts",
      "estimatedTests": 25,
      "notes": "Test recursion depth limits and termination condition validation. Watch for depth boundary conditions."
    }
  ],
  "successCriteria": [
    "All 4 test files created and passing",
    "100+ tests total across all 4 validators",
    "No breaking changes to existing validators",
    "All MEDIUM-risk validators have >90% branch coverage",
    "Every private validation method has dedicated test block",
    "Every issues.push() call is triggered by at least one test"
  ],
  "filesCreated": [
    "tests/unit/validation/validators/modes/constraint.test.ts",
    "tests/unit/validation/validators/modes/deductive.test.ts",
    "tests/unit/validation/validators/modes/inductive.test.ts",
    "tests/unit/validation/validators/modes/recursive.test.ts"
  ],
  "totalEstimatedHours": 5.0,
  "totalEstimatedTests": 100,
  "totalErrorPaths": 40,
  "totalWarningPaths": 9,
  "notes": "Sprint 2 covers the 4 MEDIUM-risk validators (355 lines, ~40 error paths, ~9 warning paths). Deductive and inductive form the core reasoning triad with abductive. Each private method gets its own describe() block."
}
